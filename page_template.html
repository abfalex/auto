{% extends "base_template.html" %}

{% block title %}
Выбор авто — {{ brand.brand_name }}
{% endblock %}

{% block main %}
<main class="main-container">
	<h2 class="text-center mb-4 mt-4">Поиск объявлений</h2>
	<section class="car-section mt-5 container">
		<h2 class="text-center mb-4" id="ads">{{ brand.brand_name }}</h2>
		{% for i in range(0, automobiles|length, 2) %}
		<div class="card-articles row">
			{% for automobile in automobiles[i:i+2] %}
			<article class="card-article col-md-6">
				<div class="car-card">
					<div class="card-image">
						<img src="{{ automobile.img_url }}" alt="Автомобиль {{ automobile.model }}" class="car-preview">
					</div>
					<div class="car-details">
						<p class="car-price">{{ automobile.price|format_price }} ₽</p>
						<h5>{{ automobile.model }}, {{ automobile.year }}</h5>
						<div class="car-description">
							<span class="description-item">{{ automobile.engine.capacity }} л, </span>
							<span class="description-item">{{ automobile.engine.fuel }}, </span>
							<span class="description-item">{{ automobile.power }} л.с., </span>
							<span class="description-item">{{ automobile.transmission }}, </span>
							<span class="description-item">{{ automobile.wheel_drive }}{% if
								automobile.mileage %}, </span>
							<span class="description-item">{{automobile.mileage }} км{%endif %}</span>
						</div>
					</div>
				</div>
			</article>
			{% endfor %}
		</div>
		{% endfor %}
		<nav aria-label="Page navigation">
			<ul class="pagination justify-content-center pagination-lg">
				{% if page_number > 1 %}
				<li class="page-item">
					<a class="page-link" href="./../../pages/{{ brand.brand_name }}/page{{ page_number - 1 }}.html#ads"
						tabindex="-1" aria-disabled="true">Предыдущая</a>
				</li>
				{% else %}
				<li class="page-item disabled">
					<a class="page-link" href="./../../pages/{{ brand.brand_name }}/page{{ page_number - 1 }}.html#ads"
						tabindex="-1" aria-disabled="true">Предыдущая</a>
				</li>
				{% endif %}
				{% for num in range(1, total_pages + 1) %}
				{% if num == page_number %}
				<li class="page-item active" aria-current="page">
					<a class="page-link" href="./../../pages/{{ brand.brand_name }}/page{{ num }}.html#ads">{{num}}</a>
				</li>
				{% else %}
				<li class="page-item"><a class="page-link"
						href="./../../pages/{{ brand.brand_name }}/page{{ num }}.html#ads">{{ num }}</a></li>
				{% endif %}
				{% endfor %}
				{% if page_number < total_pages %} <li class="page-item">
					<a class="page-link"
						href="./../../pages/{{ brand.brand_name }}/page{{ page_number + 1 }}.html#ads">Следующая</a>
					</li>
					{% else %}
					<li class="page-item disabled">
						<a class="page-link"
							href="./../../pages/{{ brand.brand_name }}/page{{ page_number + 1 }}.html#ads">Следующая</a>
					</li>
					{% endif %}
			</ul>
		</nav>
	</section>
</main>
{% endblock main %}